<section flex layout="column" >
    <md-tabs md-border-bottom class="md-primary" flex layout="column" layout-fill>
        <md-tab ng-repeat="guild in questsLogCtrl.guilds | orderBy: 'name'"
            flex layout="column" label="{{guild.name}}">

            <md-tab-content layout layout-align="start stretch">
                <section flex layout layout-margin>
                    <section flex=100 layout="row" md-whiteframe=1>
                        <md-content layout="column" flex=20>
                            <md-toolbar>
                                <span class="md-toolbar-tools">
                                    Assignments
                                </span>
                            </md-toolbar>
                            <div layout="row" flex>
                                <md-content ng-scrollbars flex>
                                    <md-list>
                                        <md-list-item
                                        data-ng-class="{
                                            'md-whiteframe-z1':quest == guild.selected_quest,
                                        }"
                                        ng-click="questsLogCtrl.selectQuest(guild, quest)"
                                        ng-repeat="quest in guild.quests | orderBy : 'created_at'">
                                            {{ quest.quest.name }}
                                            <md-icon ng-if="quest.completed" md-svg-icon="done_dark"></md-icon>
                                        </md-list-item>
                                    </md-list>
                                </md-content>
                            </div>
                        </md-content>
                        <md-content layout="column" flex=20>
                            <md-toolbar>
                                <span class="md-toolbar-tools">
                                    Objectives
                                </span>
                            </md-toolbar>
                            <div layout="row" flex>
                                <md-content ng-scrollbars flex>
                                    <md-list>
                                        <md-list-item
                                        data-ng-class="{
                                            'md-whiteframe-z1':objective == guild.selected_objective,
                                        }"
                                        aria-label="{{objective.name}}"
                                        ng-click="questsLogCtrl.selectObjective(guild, objective)"
                                        ng-repeat="objective in guild.selected_quest.quest.objectives">
                                            {{ objective.name }}
                                        </md-list-item>
                                    </md-list>
                                </md-content>
                            </div>
                        </md-content>
                        <md-content layout="column" flex=60>
                            <md-toolbar>
                                <div class="md-toolbar-tools">
                                    <span ng-if="!guild.selected_objective">
                                        {{ guild.selected_quest.quest.name }}
                                    </span>
                                    <span ng-if="guild.selected_objective">
                                        {{ guild.selected_objective.name }}
                                    </span>
                                </div>
                            </md-toolbar>
                            <div layout="row" flex>
                                <md-content ng-scrollbars flex>
                                    <section ng-if="!guild.selected_objective" layout-margin layout-padding>
                                        <span ng-bind-html="guild.selected_quest.quest.description"></span>
                                    </section>
                                    <section ng-if="guild.selected_objective" layout-margin layout-padding>
                                        <span ng-bind-html="guild.selected_objective.objective"></span>
                                    </section>
                                </md-content>
                            </div>
                        </md-content>
                    </section>
                </section>
            </md-tab-content>

        </md-tab>
    </md-tabs>

</section>
