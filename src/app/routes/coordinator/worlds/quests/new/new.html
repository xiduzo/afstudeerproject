<section layout-margin>

    <section layout="row">
        <h1 class="md-headline" flex>
            Create quest for {{ worldsQuestsNewCtrl.world.name }}
        </h1>
        <md-button class="md-raised md-accent md-fab" ui-sref="base.worlds.settings({worldUuid: worldsQuestsNewCtrl.worldUuid})">
            <md-icon md-svg-icon="back_light"></md-icon>
            <md-tooltip md-direction="left">
                Take me back
            </md-tooltip>
        </md-button>
    </section>

    <md-content class="md-whiteframe-z1" layout-padding>
        <form>
            <div layout="row">
                <md-input-container flex>
                    <label>Quest name</label>
                    <input
                        ng-model="worldsQuestsNewCtrl.formInput.name"
                        required
                        ng-change="worldsQuestsNewCtrl.makeSpiderChart()">
                </md-input-container>
                <md-input-container>
                    <label>Experience</label>
                    <input
                        ng-model="worldsQuestsNewCtrl.formInput.experience"
                        type="number"
                        step="10"
                        name="experience"/>
                </md-input-container>
            </div>
            <!-- TODO -->
            <!-- FIX FONT AWESOME -->
            <text-angular flex ng-model="worldsQuestsNewCtrl.formInput.description">
            </text-angular>
        </form>
    </md-content>

    <section layout="row">
        <h2 class="md-title" flex>
            Quest focus
        </h2>
    </section>

    <md-content class="md-whiteframe-z1" layout-padding layout="row" layout-wrap>
        <section flex="50" layout="column" layout-align="space-around">
            <div layout>
                <div flex="25" layout layout-align="left center">
                    <span class="md-body-1"> Interaction Design </span>
                </div>
                <md-slider flex class="md-primary"
                    ng-model="worldsQuestsNewCtrl.skills.interaction_design"
                    ng-change="worldsQuestsNewCtrl.makeSpiderChart()"
                    md-discrete
                    step="5"
                    min="0"
                    max="100"
                    aria-label="Interaction Design">
                </md-slider>
            </div>
            <div layout>
                <div flex="25" layout layout-align="left center">
                    <span class="md-body-1"> Visual Interface Design </span>
                </div>
                <md-slider flex class="md-primary"
                    ng-model="worldsQuestsNewCtrl.skills.visual_interface_design"
                    ng-change="worldsQuestsNewCtrl.makeSpiderChart()"
                    md-discrete
                    step="5"
                    min="0"
                    max="100"
                    aria-label="Visual Interface Design">
                </md-slider>
            </div>
            <div layout>
                <div flex="25" layout layout-align="left center">
                    <span class="md-body-1"> Frontend Development </span>
                </div>
                <md-slider flex class="md-primary"
                    ng-model="worldsQuestsNewCtrl.skills.frontend_development"
                    ng-change="worldsQuestsNewCtrl.makeSpiderChart()"
                    md-discrete
                    step="5"
                    min="0"
                    max="100"
                    aria-label="Frontend Development">
                </md-slider>
            </div>
            <div layout>
                <div flex="25" layout layout-align="left center">
                    <span class="md-body-1"> Content management </span>
                </div>
                <md-slider flex class="md-primary"
                    ng-model="worldsQuestsNewCtrl.skills.content_management"
                    ng-change="worldsQuestsNewCtrl.makeSpiderChart()"
                    md-discrete
                    step="5"
                    min="0"
                    max="100"
                    aria-label="Content management">
                </md-slider>
            </div>
            <div layout>
                <div flex="25" layout layout-align="left center">
                    <span class="md-body-1"> Project management </span>
                </div>
                <md-slider flex class="md-primary"
                    ng-model="worldsQuestsNewCtrl.skills.project_management"
                    ng-change="worldsQuestsNewCtrl.makeSpiderChart()"
                    md-discrete
                    step="5"
                    min="0"
                    max="100"
                    aria-label="Project management">
                </md-slider>
            </div>
        </section>
        <section flex="50" layout layout-align="center center">
            <div id="spiderChart"></div>
        </section>
    </md-content>

    <section layout="row">
        <h2 class="md-title" flex>
            Quest objectives
        </h2>
        <md-button class="md-raised md-accent md-fab" ng-click="worldsQuestsNewCtrl.addObjective()">
            <md-icon md-svg-icon="add_light"></md-icon>
            <md-tooltip md-direction="left">
                Add objective
            </md-tooltip>
        </md-button>
    </section>

    <md-content class="md-whiteframe-z1" layout-padding layout="row" layout-wrap>
        <section ng-if="worldsQuestsNewCtrl.objectives.length < 1">
            No objectives have been set for this quest yet.
        </section>

        <section flex="100" ng-if="worldsQuestsNewCtrl.objectives.length">
            <md-list>
                <md-toolbar layout="row" layout-padding>
                    <span flex="20" layout-padding>
                        Name
                    </span>
                    <span flex="50" layout-padding>
                        Objective
                    </span>
                    <span flex="20" layout-padding>
                        Points
                    </span>
                    <span flex="10" layout-padding>
                        <!-- placeholder -->
                    </span>
                </md-toolbar>
                <md-list-item layout="row" layout-padding
                    ng-repeat="objective in worldsQuestsNewCtrl.objectives">
                    <span flex="20" layout-padding>
                        {{ objective.name }}
                    </span>
                    <span flex="50" layout-padding>
                        {{ objective.objective }}
                    </span>
                    <span flex="20" layout-padding>
                        {{ objective.points | number  }}
                    </span>
                    <span flex="10" layout-padding>
                        <md-button class="md-icon-button"
                            ng-click="worldsQuestsNewCtrl.removeObjective(objective)">
                            <md-icon md-svg-icon="delete_dark">
                                <md-tooltip>
                                    Remove objective
                                </md-tooltip>
                            </md-icon>
                        </md-button>
                    </span>
                </md-list-item>
            </md-list>
        </section>
    </md-content>

    <section layout-padding layout="row" layout-align="center center">
        <md-button class="md-raised success" ng-click="worldsQuestsNewCtrl.addQuest()">
            Add quest
        </md-button>
    </section>

</section>
